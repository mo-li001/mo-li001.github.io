<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>分布式版本控制系统 | 壹拾陆</title><meta name="keywords" content="Linux"><meta name="author" content="壹拾陆"><meta name="copyright" content="壹拾陆"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="分布式版本控制系统一、Git、Github、Gitlab的区别  Git是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。   是LinusTorvalds为了帮助管理Linux内核开发而开发的一个开放源码的版本控制软件。   Github是在线的基于Git的代码托管服务。GitHub是2008年由Ruby on Rails编写而成。GitHub同时提供付费账户和免费账户。这两">
<meta property="og:type" content="article">
<meta property="og:title" content="分布式版本控制系统">
<meta property="og:url" content="https://mo-li001.github.io/posts/3385b70.html">
<meta property="og:site_name" content="壹拾陆">
<meta property="og:description" content="分布式版本控制系统一、Git、Github、Gitlab的区别  Git是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。   是LinusTorvalds为了帮助管理Linux内核开发而开发的一个开放源码的版本控制软件。   Github是在线的基于Git的代码托管服务。GitHub是2008年由Ruby on Rails编写而成。GitHub同时提供付费账户和免费账户。这两">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-08-31T12:41:14.000Z">
<meta property="article:modified_time" content="2022-10-23T16:03:48.000Z">
<meta property="article:author" content="壹拾陆">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://mo-li001.github.io/posts/3385b70"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '分布式版本控制系统',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-24 00:03:48'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://images-1258700836.cos.ap-guangzhou.myqcloud.com/images/202209182232723.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">96</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">壹拾陆</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">分布式版本控制系统</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-31T12:41:14.000Z" title="发表于 2022-08-31 20:41:14">2022-08-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-23T16:03:48.000Z" title="更新于 2022-10-24 00:03:48">2022-10-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="分布式版本控制系统"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="分布式版本控制系统"><a href="#分布式版本控制系统" class="headerlink" title="分布式版本控制系统"></a><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1bY4y137qs?spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=629395ac7befa1625191c3f496068941">分布式版本控制系统</a></h1><h2 id="一、Git、Github、Gitlab的区别"><a href="#一、Git、Github、Gitlab的区别" class="headerlink" title="一、Git、Github、Gitlab的区别"></a>一、Git、Github、Gitlab的区别</h2><p>  Git是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。</p>
<p>  是LinusTorvalds为了帮助管理Linux内核开发而开发的一个开放源码的版本控制软件。</p>
<p>  Github是在线的基于Git的代码托管服务。GitHub是2008年由Ruby on Rails编写而成。GitHub同时提供付费账户和免费账户。这两种账户都可以创建公开的代码仓库，只有付费账户可以创建私有的代码仓库。Gitlab解决了这个问题，可以在上面创建免费的私人repo。</p>
<h2 id="二、Git与SVN区别"><a href="#二、Git与SVN区别" class="headerlink" title="二、Git与SVN区别"></a>二、Git与SVN区别</h2><p>  GIT不仅仅是个版本控制系统，它也是个内容管理系统（CMS）,工作管理系统等。</p>
<p>  如果你是一个具有使用SVN背景的人，你需要做一定的思想转换，来适应GIT提供的一些概念<br>和特征。</p>
<p><strong>Git 与SVN 区别</strong></p>
<ol>
<li>GIT是分布式的，SVN不是：这是GIT和其它非分布式的版本控制系统，例如SVN，CVS<br>等，最核心的区别。</li>
<li>GIT把内容按元数据方式存储，而SVN是按文件：所有的资源控制系统都是把文件的元信<br>息隐藏在一个类似.svn,.cvs等的文件夹里。</li>
<li>GIT分支和SVN的分支不同：分支在SVN中一点不特别，就是版本库中的另外的一个目<br>录。</li>
<li>GIT没有一个全局的版本号，而SVN有：目前为止这是跟SVN相比GIT缺少的最大的一个特<br>征。</li>
<li>GIT的内容完整性要优于SVN：GIT的内容存储使用的是SHA-1哈希算法。这能确保代码内<br>容的完整性，确保在遇到磁盘故障和网络问题时降低对版本库的破坏。</li>
</ol>
<h2 id="三、部署Git服务"><a href="#三、部署Git服务" class="headerlink" title="三、部署Git服务"></a>三、部署Git服务</h2><p><strong>创建git仓库</strong></p>
<p>git-server上的操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# yum install git git-core gitweb -y</span><br><span class="line">[root@master ~]# useradd git</span><br><span class="line">[root@master ~]# passwd git</span><br><span class="line">[root@master ~]# mkdir /git-root/</span><br><span class="line">[root@master ~]# cd /git-root/</span><br><span class="line">[root@master git-root]# git init --bare shell.git</span><br><span class="line">注意：</span><br><span class="line">git init 和 git init --bare 的区别：</span><br><span class="line">使用--bare选项时，不再生成.git目录，而是只生成.git目录下面的版本历史记录文件，这些版</span><br><span class="line">本历史记录文件也不再存放在.git目录下面，而是直接存放在版本库的根目录下面.</span><br><span class="line">用&quot;gitinit&quot;初始化的版本库用户也可以在该目录下执行所有git方面的操作。但别的用户在</span><br><span class="line">将更新push上来的时候容易出现冲突。</span><br><span class="line">使用&quot;git init --bare&quot;方法创建一个所谓的裸仓库，之所以叫裸仓库是因为这个仓库只保存</span><br><span class="line">git历史提交的版本信息，而不允许用户在上面进行各种git操作，如果你硬要操作的话，只会</span><br><span class="line">得到下面的错误（&quot;This operation must be run in a work tree&quot;)这个就是最好把</span><br><span class="line">远端仓库初始化成bare仓库的原因</span><br><span class="line"></span><br><span class="line">[root@master git-root]# ls</span><br><span class="line">shell.git</span><br><span class="line">[root@master git-root]# cd shell.git/</span><br><span class="line">[root@master shell.git]# ls</span><br><span class="line">branches  config  description  HEAD  hooks  info  objects  refs</span><br><span class="line">[root@master shell.git]# cd ..</span><br><span class="line">[root@master git-root]# chown -R git:git shell.git</span><br><span class="line">[root@master git-root]# su - git</span><br><span class="line">[git@master ~]$ ssh-keygen -t rsa  #一直回车</span><br><span class="line">[git@master ~]$ cd .ssh/</span><br><span class="line">[git@master .ssh]$ cp id_rsa.pub authorized_keys</span><br><span class="line">[git@master .ssh]$ vim authorized_keys</span><br><span class="line">[git@master .ssh]$ logout</span><br></pre></td></tr></table></figure>

<p><strong>git仓库测试</strong></p>
<p>git-client上的操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# ssh-keygen</span><br><span class="line">[root@node1 ~]# ssh-copy-id git@192.168.160.3</span><br><span class="line">[root@node1 ~]# git clone git@192.168.160.3:/git-root/shell.git</span><br><span class="line">[root@node1 ~]# ls</span><br><span class="line">anaconda-ks.cfg  shell</span><br><span class="line">[root@node1 ~]# cd shell</span><br><span class="line">[root@node1 shell]# ls</span><br><span class="line">[root@node1 shell]# vim test.sh</span><br><span class="line">for i in 123</span><br><span class="line">do</span><br><span class="line">  echo $i</span><br><span class="line">done</span><br><span class="line">[root@node1 shell]# git add test.sh</span><br><span class="line">[root@node1 shell]# git config --global user.email &quot;you@example.com&quot;</span><br><span class="line">[root@node1 shell]# git config --global user.name &quot;Your Name&quot;</span><br><span class="line">[root@node1 shell]# git commit -m &#x27;first commit&#x27;</span><br><span class="line">[master（根提交） 966d654] first commit</span><br><span class="line"> 1 file changed, 4 insertions(+)</span><br><span class="line"> create mode 100644 test.sh</span><br><span class="line">[root@node1 shell]# git push origin master</span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Writing objects: 100% (3/3), 238 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@192.168.160.3:/git-root/shell.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br><span class="line">[root@node1 shell]# cd /opt</span><br><span class="line">[root@node1 opt]# git clone git@192.168.160.3:/git-root/shell.git</span><br><span class="line">[root@node1 opt]# cd shell/</span><br><span class="line">[root@node1 shell]# ls</span><br><span class="line">test.sh</span><br><span class="line">[root@node1 shell]# cat test.sh</span><br><span class="line">for i in 123</span><br><span class="line">do</span><br><span class="line">  echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h2 id="四、Git工作流程"><a href="#四、Git工作流程" class="headerlink" title="四、Git工作流程"></a>四、Git工作流程</h2><p>一般工作流程如下：</p>
<ul>
<li><p>克隆 Git 资源作为工作目录。</p>
</li>
<li><p>在克隆的资源上添加或修改文件。</p>
</li>
<li><p>如果其他人修改了，你可以更新资源。</p>
</li>
<li><p>在提交前查看修改。</p>
</li>
<li><p>提交修改。</p>
</li>
<li><p>在修改完成后，如果发现错误，可以撤回提交并再次修改并提交。</p>
<p>Git的工作流程示意图：</p>
</li>
</ul>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220702161411690.png" alt="image-20220702161411690"></p>
<h2 id="五、Git基本概念"><a href="#五、Git基本概念" class="headerlink" title="五、Git基本概念"></a>五、Git基本概念</h2><ul>
<li><strong>工作区：</strong>就是你在电脑里能看到的目录。</li>
<li><strong>暂存区：</strong>英文叫stage，或index。一般存放在“git目录”下的index文件(.git&#x2F;index)中，所以我们把暂存区有时也叫作索引（index）。</li>
<li><strong>版本库：</strong>工作区有一隐藏目录.git，这个不算工作区，而是Git的版本库。</li>
</ul>
<p>​	工作区、版本库中的暂存区和版本库之间的关系的示意图：</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220702161918652.png" alt="image-20220702161918652"></p>
<p><strong>查看暂存区</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 shell]# ls -a</span><br><span class="line">.  ..  .git  test.sh</span><br><span class="line">[root@node1 shell]# cd .git/</span><br><span class="line">[root@node1 .git]# ls</span><br><span class="line">branches  config  description  HEAD  hooks  index  info  logs  objects  packed-refs  refs</span><br><span class="line">[root@node1 .git]# cat index</span><br></pre></td></tr></table></figure>

<ul>
<li>图中左侧为工作区，右侧为版本库。在版本库中标记为“index”的区域是暂存区（stage，index)，标记为 “master” 的是 master 分支所代表的目录树。</li>
<li>图中我们可以看出此时 “HEAD” 实际是指向master分支的一个”游标”。所以图示的命令中出现 HEAD 的地方可以用master来替换。</li>
<li>图中的 objects 标识的区域为Git的对象库，实际位于 “.git&#x2F;objects” 目录下，里面包含了创建的各种对象及内容。</li>
<li>当对工作区修改（或新增）的文件执行“git add”命令时，暂存区的目录树被更新，同时工作区修改（或新增）的文件内容被写入到对象库中的一个新的对象中，而该对象的ID被记录在暂存区的文件索引中。</li>
<li>当执行提交操作（git commit）时，暂存区的目录树写到版本库（对象库）中，master分支会做相应的更新。即master指向的目录树就是提交时暂存区的目录树。</li>
<li>当执行”git reset HEAD”命令时，暂存区的目录树会被重写，被master分支指向的目录树所替换，但是工作区不受影响。</li>
<li>当执行”git rm –cached <file>“命令时，会直接从暂存区删除文件，工作区则不做出改变。</li>
<li>当执行”git checkout.”或者”git checkout – <file>“命令时，会用暂存区全部或指定的文件替换工作区的文件。这个操作很危险，会清除工作区中未添加到暂存区的改动。</li>
</ul>
<h1 id="六、Git客户端安装使用"><a href="#六、Git客户端安装使用" class="headerlink" title="六、Git客户端安装使用"></a>六、Git客户端安装使用</h1><h2 id="1、Git安装配置"><a href="#1、Git安装配置" class="headerlink" title="1、Git安装配置"></a>1、Git安装配置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel</span><br><span class="line">[root@node1 ~]# yum -y install git git-all git-core</span><br><span class="line">[root@node1 ~]# git --version</span><br><span class="line">git version 1.8.3.1</span><br></pre></td></tr></table></figure>

<h2 id="2、Git配置"><a href="#2、Git配置" class="headerlink" title="2、Git配置"></a>2、Git配置</h2><pre><code>  Git提供了一个叫做git config的工具，专门用来配置或读取相应的工作环境变量。
  
  这些环境变量，决定了Git在各个环节的具体工作方式和行为。这些变量可以存放在以下三个不同的地方：
</code></pre>
<ul>
<li><code>/etc/gitconfig</code>  件：系统中对所有用户都普遍适用的配置。若使用 <code>git config</code> 时用<code>--system</code> 选项，读写的就是这个文件。</li>
<li><code>~/.gitconfig</code> 文件：用户目录下的配置文件只适用于该用户。若使用 <code>git config</code> 时用 <code>--global</code> 选项，读写的就是这个文件。</li>
<li>当前项目的Git目录中的配置文件（也就是工作目录中的 <code>.git/config</code> 文件）：这里的配置仅仅针对当前项目有效。每一个级别的配置都会覆盖上层的相同配置，所以 <code>.git/config</code> 里的配置会覆盖 <code>/etc/gitconfig</code> 中的同名变量。</li>
</ul>
<h3 id="1、Git用户信息"><a href="#1、Git用户信息" class="headerlink" title="1、Git用户信息"></a>1、Git用户信息</h3><p>​	配置个人的用户名称和电子邮件地址：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git config --global user.name &quot;qfedu&quot;</span><br><span class="line">[root@qfedu.com ~]# git config --global user.email test@qq.com</span><br></pre></td></tr></table></figure>

<p>​	如果用了 <strong>–global</strong> 选项，那么更改的配置文件就是位于你用户主目录下的那个，以后你所有的项目都会默认使用这里配置的用户信息。</p>
<p>​	如果要在某个特定的项目中使用其他名字或者电邮，只要去掉 –global 选项重新配置即可，新的设定保存在当前项目的.git&#x2F;config文件里。</p>
<h3 id="2、文本编辑器"><a href="#2、文本编辑器" class="headerlink" title="2、文本编辑器"></a>2、文本编辑器</h3><p>​	设置Git默认使用的文本编辑器，一般可能会是Vi或者Vim。如果你有其他偏好，比如 Emacs 的话，可以重新设置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git config --global core.editor emacs</span><br></pre></td></tr></table></figure>

<h3 id="3、差异分析工具"><a href="#3、差异分析工具" class="headerlink" title="3、差异分析工具"></a>3、差异分析工具</h3><p>​	还有一个比较常用的是，在解决合并冲突时使用哪种差异分析工具。比如要改用 vimdiff 的话：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git config --global merge.tool vimdiff</span><br></pre></td></tr></table></figure>

<p>​	Git可以理解 kdiff3，tkdiff，meld，xxdiff，emerge，vimdiff，gvimdiff，ecmerge，和 opendiff 等合并工具的输出信息。</p>
<p>​	当然，你也可以指定使用自己开发的工具</p>
<h3 id="4、查看配置信息"><a href="#4、查看配置信息" class="headerlink" title="4、查看配置信息"></a>4、查看配置信息</h3><p>​	要检查已有的配置信息，可以使用git config –list命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git config --list</span><br><span class="line">http.postbuffer=2M</span><br><span class="line">user.name=runoob</span><br><span class="line">user.email=test@runoob.com</span><br></pre></td></tr></table></figure>

<p>​	有时候会看到重复的变量名，那就说明它们来自不同的配置文件（比如 &#x2F;etc&#x2F;gitconfig 和 ~&#x2F;.gitconfig），不过最终 Git 实际采用的是最后一个。</p>
<p>​	这些配置我们也可以在~&#x2F;.gitconfig或&#x2F;etc&#x2F;gitconfig看到,如下所示：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com~]# vim ~/.gitconfig</span><br></pre></td></tr></table></figure>

<p>​	显示内容如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[http]</span><br><span class="line">    postBuffer = 2M</span><br><span class="line">[user]</span><br><span class="line">    name = git</span><br><span class="line">    email = test@qfedu.com.com</span><br></pre></td></tr></table></figure>

<p>​	也可以直接查阅某个环境变量的设定，只要把特定的名字跟在后面即可，像这样：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git config user.name</span><br><span class="line">git</span><br></pre></td></tr></table></figure>

<p>​	修改user.name</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# git config user.name</span><br><span class="line">Your Name</span><br><span class="line">[root@node1 ~]# cd shell/</span><br><span class="line">[root@node1 shell]# git config user.name lilei</span><br><span class="line">[root@node1 shell]# git config user.name</span><br><span class="line">lilei</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看shell下的git配置</span></span><br><span class="line">[root@node1 shell]# git config --list</span><br><span class="line">user.email=you@example.com</span><br><span class="line">user.name=Your Name</span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=true</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">remote.origin.url=git@192.168.160.3:/git-root/shell.git</span><br><span class="line">remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*</span><br><span class="line">branch.master.remote=origin</span><br><span class="line">branch.master.merge=refs/heads/master</span><br><span class="line">user.name=lilei</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3、Git使用"><a href="#3、Git使用" class="headerlink" title="3、Git使用"></a>3、Git使用</h3><h4 id="1、ssh链接"><a href="#1、ssh链接" class="headerlink" title="1、ssh链接"></a>1、ssh链接</h4><p>​	客户机上产生公钥上传到gitlab的SSH-Keys里，git clone下载和git push上传都没问题，这种方式很安全</p>
<h4 id="2、http链接（两种方式实现）"><a href="#2、http链接（两种方式实现）" class="headerlink" title="2、http链接（两种方式实现）"></a>2、http链接（两种方式实现）</h4><h5 id="1、修改代码里的-git-x2F-config文件添加登录用户名密码"><a href="#1、修改代码里的-git-x2F-config文件添加登录用户名密码" class="headerlink" title="1、修改代码里的.git&#x2F;config文件添加登录用户名密码"></a>1、修改代码里的.git&#x2F;config文件添加登录用户名密码</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# cd .git</span><br><span class="line">[root@qfedu.pom ~]# cat config</span><br><span class="line">[core]</span><br><span class="line">repositoryformatversion = 0</span><br><span class="line">filemode = true</span><br><span class="line">bare = false</span><br><span class="line">logallrefupdates = true</span><br><span class="line">[remote &quot;origin&quot; ]</span><br><span class="line">fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">url =</span><br><span class="line">http://username:password@qfedu.com@172.17.0.39:sauser/ansible.git</span><br><span class="line">[branch &quot;master&quot; ]</span><br><span class="line">remote = origin</span><br><span class="line">merge = refs/heads/master</span><br></pre></td></tr></table></figure>

<h5 id="2、执行命令设置登录用户和密码"><a href="#2、执行命令设置登录用户和密码" class="headerlink" title="2、执行命令设置登录用户和密码"></a>2、执行命令设置登录用户和密码</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span>到根目录，执行</span></span><br><span class="line">[root@qfedu.com ~]# git config --global credential.helper store  #执行之后会在.gitconfig文件中多添加以下选项</span><br><span class="line">  [credential]</span><br><span class="line">        helper = store</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span>到项目目录，执行gitpu11命令，会提示输入账号密码。输完这一次以后就不再需要，并且会在根目录生成一个.git-credentials文件</span></span><br><span class="line">[root@qfedu.com ~]# git pull</span><br><span class="line">  Username for &#x27;http://172.17.0.39:sauser/ansible.git&#x27;;</span><br><span class="line">  xxxx@xxxx.com Password for</span><br><span class="line">&#x27;https://xxxx@xxxx.com@172.17.0.39:sauser/ansible.git&#x27;;</span><br><span class="line">[root@qfedu.com ~]# cat .git-credentials</span><br><span class="line">  https://Username:Password@qfedu.com.oschina.net</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">之后pull/push代码都不再需要输入账号密码了</span></span><br></pre></td></tr></table></figure>

<h4 id="3、设置身份验证"><a href="#3、设置身份验证" class="headerlink" title="3、设置身份验证"></a>3、设置身份验证</h4><p>​	<strong>注意：</strong>设定本机用户名，绑定邮箱，让远程服务器知道机器的身份</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git config --global user.name &quot;user_name&quot;</span><br><span class="line">[root@qfedu.com ~]# git config --global user.email &quot;XXXXX@XX.com&quot;</span><br></pre></td></tr></table></figure>

<h4 id="4、本地项目与远程服务器项目之间的交互"><a href="#4、本地项目与远程服务器项目之间的交互" class="headerlink" title="4、本地项目与远程服务器项目之间的交互"></a>4、本地项目与远程服务器项目之间的交互</h4><p>​	1、如果你没有最新的代码，希望从头开始</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]<span class="comment"># git clone git@XXX.git  # 这里是项目的地址（可从项目主页复制），将远程服务器的内容完全复制过来</span></span><br><span class="line">[root@qfedu.com ~]<span class="comment"># cd BGBInspector_V01  # clone 之后进入该项目的文件夹</span></span><br><span class="line">[root@qfedu.com ~]<span class="comment"># touch README.md  #新建readme文件</span></span><br><span class="line">[root@qfedu.com ~]<span class="comment"># git add README.md  #将新的文件添加到git的暂存区</span></span><br><span class="line">[root@qfedu.com ~]<span class="comment"># git commit -m &#x27;Its note: add a readme file&#x27;  #将暂存区的文件提交到某一个版本保存下来，并加上注释</span></span><br><span class="line">[root@qfedu.com ~]<span class="comment"># git push -u origin master  #将本地的更改提交到远程服务器</span></span><br></pre></td></tr></table></figure>

<p>​	2、如果你已经有一个新版代码，希望直接把本地的代码替换到远程服务器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# cd existing_folder  #进入代码存在的文件夹，或者直接在该文件夹打开</span><br><span class="line">[root@qfedu.com ~]# git bash git init  #初始化</span><br><span class="line">[root@qfedu.com ~]# git remote add origin git@XXX.git  #添加远程项目地址（可从项目主页复制）</span><br><span class="line">[root@qfedu.com ~]# git add.  #添加该文件夹中所有的文件到git的暂存区</span><br><span class="line">[root@qfedu.com ~]# git commit -m &#x27;note&#x27;  #提交所有代码到本机的版本库</span><br><span class="line">[root@qfedu.com ~]# git push -u origin master  #将本地的更改提交到远程服务器</span><br></pre></td></tr></table></figure>

<ul>
<li>git 中 clone过来的时候，git 不会对比本地和服务器的文件，也就不会有冲突，</li>
<li>建议确定完全覆盖本地的时候用 clone，不确定会不会有冲突的时候用git pull，将远程服务器的代码download下来</li>
</ul>
<h4 id="5、常用的git命令"><a href="#5、常用的git命令" class="headerlink" title="5、常用的git命令"></a>5、常用的git命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git inyt  #初始化</span><br><span class="line">[root@qfedu.com ~]# git add main.cpp  #将某一个文件添加到暂存区</span><br><span class="line">[root@qfedu.com ~]# git add.  #将文件夹下的所有的文件添加到暂存区</span><br><span class="line">[root@qfedu.com ~]# git commit -m &#x27;note&#x27;  #将暂存区中的文件保存成为某一个版本</span><br><span class="line">[root@qfedu.com ~]# git log  #查看所有的版本日志</span><br><span class="line">[root@qfedu.com ~]# git status  #查看现在暂存区的状况</span><br><span class="line">[root@qfedu.com ~]# git diff  #查看现在文件与上一个提交-commit版本的区别</span><br><span class="line">[root@qfedu.com ~]# git reset --hard HEAD  #回到上一个版本</span><br><span class="line">[root@qfedu.com ~]# git reset --hard XXXXX  #XXX为版本编号，回到某一个版本</span><br><span class="line">[root@qfedu.com ~]# git pull origin master  #从主分支pull到本地</span><br><span class="line">[root@qfedu.com ~]# git push -u origin master  #从本地push到主分支</span><br><span class="line">[root@qfedu.com ~]# git pull  #pull默认主分支</span><br><span class="line">[root@qfedu.com ~]# git push  #push默认主分支 ...</span><br></pre></td></tr></table></figure>

<p>回到某个版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看当前版本</span></span><br><span class="line">[root@node1 shell]# git show</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看版本日志</span></span><br><span class="line">[root@node1 shell]# git reflog</span><br><span class="line">966d654 HEAD@&#123;0&#125;: commit (initial): first commit</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">回到某个版本</span></span><br><span class="line">[root@node1 shell]# git reset 966d654</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看当前版本</span></span><br><span class="line">[root@node1 shell]# git show</span><br></pre></td></tr></table></figure>

<h4 id="6、版本穿梭"><a href="#6、版本穿梭" class="headerlink" title="6、版本穿梭"></a>6、版本穿梭</h4><h5 id="1、版本回退"><a href="#1、版本回退" class="headerlink" title="1、版本回退"></a>1、版本回退</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用 git <span class="built_in">log</span> 命令查看：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">每一个提交的版本都唯一对应一个 commit 版本号，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 git reset 命令退到上一个版本：</span></span><br><span class="line">[root@qfedu.com ~]# git reset --hard HEAD^</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git reflog  #查看命令历史，以便确定要回到哪个版本</span><br><span class="line">[root@qfedu.com ~]# git reset --hard commit_id  #比如git reset --hard 3628164 (不用全部输入，输入前几位即可)</span><br></pre></td></tr></table></figure>

<h5 id="2、分支管理"><a href="#2、分支管理" class="headerlink" title="2、分支管理"></a>2、分支管理</h5><p>​	1、创建分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git checkout -b dev  #创建dev分支，然后切换到dev分支</span><br><span class="line">[root@qfedu.com ~]# git checkout  #命令加上-b参数表示创建并切换，相当于以下两条命令：</span><br><span class="line">[root@qfedu.com ~]# git branch dev git checkout dev</span><br><span class="line">[root@qfedu.com ~]# git branch  #命令查看当前分支，</span><br><span class="line">[root@qfedu.com ~]# git branch  #命令会列出所有分支，当前分支前面会标一个*号</span><br><span class="line">[root@qfedu.com ~]# git branch * dev  master</span><br><span class="line">[root@qfedu.com ~]# git add readme.txt git commit -m &quot;branch test&quot;  #在dev分支上正常提交。</span><br></pre></td></tr></table></figure>

<p>​	2、分支切换</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git checkout master  #切换回master分支</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看一个readme.txt文件，刚才添加的内容不见了，因为那个提交是在dev分支上，而master分支此刻的提交点并没有变</span></span><br></pre></td></tr></table></figure>

<p>​	3、合并分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git merge dev  #把dev分支的工作成果合并到master分支上</span><br><span class="line">[root@qfedu.com ~]# git merge  #命令用于合并指定分支到当前分支。</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">合并后，再查看readme.txt的内容，就可以看到，和dev分支的最新提交是完全一样的。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。</span><br><span class="line">当然，也不是每次合并都能Fast-forward,我们后面会讲其他方式的合并。</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]#  git branch -d dev  #删除dev分支了：</span><br><span class="line">删除后,查看branch,就只剩下master分支了.</span><br></pre></td></tr></table></figure>

<h4 id="3、解决冲突"><a href="#3、解决冲突" class="headerlink" title="3、解决冲突"></a>3、解决冲突</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# git checkout -b featurel  #创建新的featurel分支</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改readme.txt最后一行，改为：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Creating a new branch is quick AND simple.</span></span><br><span class="line">[root@qfedu.com ~]# git add readme.txt  #在featurel分支上提交</span><br><span class="line">[root@qfedu.com ~]# git commit -m &quot;AND simple&quot;</span><br><span class="line">[root@qfedu.com ~]# git checkout master  #切换到master分支</span><br><span class="line">Switched to branch &#x27;master&#x27; Your branch is ahead of &#x27;origin/master&#x27; by 1 commit.</span><br><span class="line">Git还会自动提示我们当前master分支比远程的master分支要超前1个提交。</span><br><span class="line">在master分支上把readme.txt文件的最后一行改为：</span><br><span class="line">Creating a new branch is quick &amp; simple.</span><br><span class="line">[root@qfedu.com ~]# git add readme.txt</span><br><span class="line">[root@qfedu.com ~]# git commit -m &quot;&amp; simple&quot;</span><br><span class="line">现在，master分支和featurel分支各自都分别有新的提交</span><br><span class="line">这种情况下，Git无法执行&quot;快速合并&quot;，只能试图把各自的修改合并起来，但这种合并就可能会有冲突，我们试试看：</span><br><span class="line">git merge featurel Auto-merging readme.txt CONFLICT (content):</span><br><span class="line">Merge conflict in readme.txt Automatic merge failed;</span><br><span class="line">fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>


<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">readme.txt文件存在冲突，必须手动解决冲突后再提交。</span><br><span class="line">[root@qfedu.com ~]# git status  可以显示冲突的文件;</span><br><span class="line">直接查看readme.txt的内容：</span><br><span class="line">Git is a distributed version control system.</span><br><span class="line">Git is free software distributed under the GPL.</span><br><span class="line">Git has a mutable index called stage.</span><br><span class="line">Git tracks changes of files.</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD Creating a new branch is quick &amp; simple.</span><br><span class="line">=======Creating a new branch is quick AND simple. &gt;&gt;&gt;&gt;&gt;&gt;&gt; featurel</span><br><span class="line">Git用&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容，我们修改后保存再提交：</span><br><span class="line">[root@qfedu.com ~]# git add readme.txt</span><br><span class="line">[root@qfedu.com ~]# git commit -m &quot;conflict fixed&quot;</span><br><span class="line">[master 59bclcb] conflict fixed</span><br><span class="line">最后，删除featurel分支：</span><br><span class="line">[root@qfedu.com ~]# git branch -d featurel Deleted branch featurel (was 75a857c).</span><br></pre></td></tr></table></figure>

<h2 id="七、Github-远程仓库"><a href="#七、Github-远程仓库" class="headerlink" title="七、Github 远程仓库"></a>七、Github 远程仓库</h2><p>​	1、github.com注册账户</p>
<p>​	2、github上创建仓库</p>
<p>​	3、本地服务器生成ssh公钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com~]# ssh-keygen -t rsa -C &#x27;meteor@163.com&#x27; # 邮箱要与github上注册的相同</span><br><span class="line">[root@qfedu.com~]# cat .ssh/id_rsa.pub</span><br><span class="line">ssh-rsa</span><br><span class="line">AAAAB3NzaClyc2EAAAADAQABAAABAQDVThfq4brrlsPGtAknVB0TLPx+7Dd3qlxTbSIrUOsGC5Y8JuNqVT1IntZB4oNj8cSQrWvec9CKm0a807WwaJIiqpxurz+YpQHP2KbapftKIxsX4hPf/z+p0El1U6arQa35/xmNsq+cJLH/bDdRG+EMDhuCBmjVZ0lLj/hEdeIT6s56AnnCkaWoF+sq58KCF7Tk54jRbs/YiyE4SN7FuA70r+07sA/uj0+lmuk4E190KtQUELhjX/E9stivlqiRhxnKvVUqXDywsjfM8Rtvbi4Fg9R8Wt9fpd4QwnWksYUoR5qZJFYXO4hSZrUnSMruPK14xXjDJcFDcP2eHIzKgLDl meteor@163.com</span><br></pre></td></tr></table></figure>

<p>​	4、github 添加 ssh 公钥</p>
<p>​	复制以上的公钥，在 github 中添加ssh key</p>
<p>​	5、测试连接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# yum install git</span><br><span class="line">........</span><br><span class="line">[root@qfedu.com ~]# ssh -T giteqfedu.comhub.com</span><br><span class="line">The authenticity of host &#x27;github.com (13.250.177.223)&#x27; can&#x27;t be established.</span><br><span class="line">RSA key fingerprint is</span><br><span class="line">SHA256:nThbg6kXUpJWG17E1IGOCspRomTxdCARLviKw6E5SY8.</span><br><span class="line">RSA key fingerprint is</span><br><span class="line">MD5:16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added &#x27;github.com,13.250.177.223&#x27; (RSA) to the list of known hosts.</span><br><span class="line">Hi meteor! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br><span class="line">[root@qfedu.com ~]#</span><br></pre></td></tr></table></figure>

<p>​	6、连接远程仓库（创建一个测试存储库）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在 github 网站新建一个仓库，命名为linux</span></span><br><span class="line">~~~</span><br><span class="line">[root@qfedu.com ~]# cd /opt</span><br><span class="line">[root@qfedu.com ~]# mkdir linux</span><br><span class="line">[root@qfedu.com ~]# mkdir linux</span><br><span class="line">[root@qfedu.com ~]# cd linux</span><br><span class="line">~~~</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git 初始化，然后做第一个基本的git操作（需要在github上创建存储库）</span></span><br><span class="line">[root@qfedu.com ~]# git init</span><br><span class="line">[root@qfedu.com ~]# touch README</span><br><span class="line">[root@qfedu.com ~]# git add README</span><br><span class="line">[root@qfedu.com ~]# git commit -m &#x27;first commit&#x27;</span><br><span class="line">[root@qfedu.com ~]# git remote add origin git@qfedu.comhub.com:userhub/linux.git</span><br><span class="line">~~~</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">若出现origin已经存在的错误，删除origin</span></span><br><span class="line">[root@qfedu.com linux]# git remote rm origin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">现在继续执行push到远端</span></span><br><span class="line">~~~</span><br><span class="line">[root@qfedu.com linux]# git remote add origin git@qfedu.comhub.com:userhub/linux.git</span><br><span class="line">[root@qfedu.com linux]# git push -u origin master</span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Writing objects: 1008 (3/3), 205 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@qfedu.comhub.com:fakehydra/linux-.git</span><br><span class="line">* [new branch]     master –&gt; master</span><br><span class="line">分支 master 设置为跟踪来自 origin 的远程分支 master。</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">注意</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">设置存储库链接</span></span><br><span class="line">[root@qfedu.com ~]# git remote set-url origin git@qfedu.comhub.com:userhub/linux.git</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果 push 失败，合并分支到 master 再 push</span></span><br><span class="line">[root@qfedu.com ~]# git pull --rebase origin master</span><br></pre></td></tr></table></figure>

<h2 id="八、Gitlab-Server部署"><a href="#八、Gitlab-Server部署" class="headerlink" title="八、Gitlab Server部署"></a>八、Gitlab Server部署</h2><h3 id="1、环境配置"><a href="#1、环境配置" class="headerlink" title="1、环境配置"></a>1、环境配置</h3><p>​	关闭防火墙、SElinux</p>
<p>​	开启邮件服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# systemctl start postfix</span><br><span class="line">[root@qfedu.com ~]# systemctl enable postfix</span><br></pre></td></tr></table></figure>

<h3 id="2、部署-Gitlab"><a href="#2、部署-Gitlab" class="headerlink" title="2、部署 Gitlab"></a>2、部署 Gitlab</h3><h4 id="1、安装-gitlab-依赖包"><a href="#1、安装-gitlab-依赖包" class="headerlink" title="1、安装 gitlab 依赖包"></a>1、安装 gitlab 依赖包</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">centos7:</span><br><span class="line">[root@qfedu.com ~]# yum install -y curl openssh-server openssh-clients postfix cronie policycoreutils-python </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">gitlab-ce 10.x.x以后的版本需要依赖policycoreutils-python</span></span><br><span class="line"></span><br><span class="line">centos8:</span><br><span class="line">[root@qfedu.com ~]# yum install -y curl openssh-server openssh-clients postfix cronie python3-policycoreutils</span><br></pre></td></tr></table></figure>

<h4 id="2、添加官方源"><a href="#2、添加官方源" class="headerlink" title="2、添加官方源"></a>2、添加官方源</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</span><br></pre></td></tr></table></figure>

<p>​	因为官方源太慢，可以使用国内清华yum源，配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# vim /etc/yum.repos.d/gitlab-ce.repo</span><br><span class="line">[gitlab-ce]</span><br><span class="line">name=Gitlab CE Repository</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el$releasever/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure>

<p>​	或者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-12.10.1-ce.0.el7.x86_64.rpm</span><br><span class="line">[root@master rpm]# ls</span><br><span class="line">gitlab-ce-12.10.1-ce.0.el7.x86_64.rpm</span><br><span class="line">[root@master rpm]# rpm -ivh gitlab-ce-12.10.1-ce.0.el7.x86_64.rpm</span><br><span class="line">[root@master rpm]# rpm -q gitlab-ce</span><br><span class="line">gitlab-ce-12.10.1-ce.0.el7.x86_64</span><br></pre></td></tr></table></figure>

<h4 id="3、安装-Gitlab"><a href="#3、安装-Gitlab" class="headerlink" title="3、安装 Gitlab"></a>3、安装 Gitlab</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# yum -y install gitlab-ce  #自动安装最新版</span><br><span class="line">[root@qfedu.com ~]# yum -y install gitlab-ce-x.x.x  #安装指定版本Gitlab</span><br></pre></td></tr></table></figure>

<h4 id="4、配置-Gitlab"><a href="#4、配置-Gitlab" class="headerlink" title="4、配置 Gitlab"></a>4、配置 Gitlab</h4><h5 id="1、查看Gitlab版本"><a href="#1、查看Gitlab版本" class="headerlink" title="1、查看Gitlab版本"></a>1、查看Gitlab版本</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@master rpm]# head -1 /opt/gitlab/version-manifest.txt</span><br><span class="line">gitlab-ce 12.10.1</span><br></pre></td></tr></table></figure>

<h5 id="2、Gitlab-配置登录连接"><a href="#2、Gitlab-配置登录连接" class="headerlink" title="2、Gitlab  配置登录连接"></a>2、Gitlab  配置登录连接</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">设置登录链接</span></span><br><span class="line">[root@master rpm]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">***</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># GitLab URL</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#! URL on which GitLab will be reachable.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#! For more details on configuring external_url see:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#！https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">没有域名，可以设置为本机IP地址</span></span><br><span class="line">external_url &#x27;http://192.168.160.3&#x27;</span><br><span class="line">***</span><br><span class="line">[root@master ~]# grep &quot;^external_url&quot; /etc/gitlab/gitlab.rb</span><br><span class="line">external_url &#x27;http://192.168.160.3&#x27;  #绑定监听的域名或IP</span><br></pre></td></tr></table></figure>

<h5 id="3、初始化-Gitlab"><a href="#3、初始化-Gitlab" class="headerlink" title="3、初始化 Gitlab"></a>3、初始化 Gitlab</h5><p>​	第一次使用配置时间较长</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# gitlab-ctl reconfigure</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">语言环境问题：如果碰到之后的解决方案如下，需要重新登录</span></span><br><span class="line">[root@master ~]# echo &quot;export LC_ALL=en_US.UTF-8&quot; &gt;&gt; /etc/profile</span><br></pre></td></tr></table></figure>

<h5 id="4、启动-Gitlab-服务"><a href="#4、启动-Gitlab-服务" class="headerlink" title="4、启动 Gitlab 服务"></a>4、启动 Gitlab 服务</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# gitlab-ctl start</span><br><span class="line">ok: run: alertmanager: (pid 91702) 377s</span><br><span class="line">ok: run: gitaly: (pid 91666) 379s</span><br><span class="line">ok: run: gitlab-exporter: (pid 91658) 380s</span><br><span class="line">ok: run: gitlab-workhorse: (pid 91623) 380s</span><br><span class="line">ok: run: grafana: (pid 91800) 376s</span><br><span class="line">ok: run: logrotate: (pid 90843) 490s</span><br><span class="line">ok: run: nginx: (pid 90791) 496s</span><br><span class="line">ok: run: node-exporter: (pid 91640) 380s</span><br><span class="line">ok: run: postgres-exporter: (pid 91716) 377s</span><br><span class="line">ok: run: postgresql: (pid 90342) 570s</span><br><span class="line">ok: run: prometheus: (pid 91682) 379s</span><br><span class="line">ok: run: redis: (pid 90116) 582s</span><br><span class="line">ok: run: redis-exporter: (pid 91661) 379s</span><br><span class="line">ok: run: sidekiq: (pid 90684) 508s</span><br><span class="line">ok: run: unicorn: (pid 90646) 514s</span><br><span class="line"></span><br><span class="line">[root@master ~]# yum install -y lsof</span><br><span class="line">[root@master ~]# lsof -i:80</span><br><span class="line">COMMAND   PID       USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">nginx   90791       root    7u  IPv4 687590      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   90792 gitlab-www    7u  IPv4 687590      0t0  TCP *:http (LISTEN)</span><br></pre></td></tr></table></figure>

<h5 id="5、Gitlab-设置-HTTPS-方式"><a href="#5、Gitlab-设置-HTTPS-方式" class="headerlink" title="5、Gitlab 设置 HTTPS 方式"></a>5、Gitlab 设置 HTTPS 方式</h5><ul>
<li>如果想要以上的https方式正常生效使用，则需要把letsencrypt自动生成证书的配置打开，这样在执行重新让配置生效命令(gitlab-ctl reconfigure)的时候会自动给域名生成免费的证书并自动在gitlab自带的nginx中加上相关的跳转配置，都是全自动的，非常方便。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">letsencrypt[&#x27;enable&#x27;] = true</span><br><span class="line">letsencrypt[&#x27;contact_emails&#x27;] = [&#x27;caryyu@qq.com&#x27;]  #添加联系人的电子邮件地址</span><br></pre></td></tr></table></figure>

<h5 id="6、Gitlab-添加smtp邮件功能"><a href="#6、Gitlab-添加smtp邮件功能" class="headerlink" title="6、Gitlab 添加smtp邮件功能"></a>6、Gitlab 添加smtp邮件功能</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">POstfix并非必须的；根据具体情况配置，以 SMTP 的为例配置邮件服务器来实现通知；参考配置如下：</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## Email Settings</span></span></span><br><span class="line">gitlab_rails[&#x27;gitlab_email_enabled&#x27;] = true</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_from&#x27;] = &#x27;system.notice@qq.com&#x27;</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_display_name&#x27;] = &#x27;gitlab.notice&#x27;</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_reply_to&#x27;] = &#x27;system.notice@qq.com&#x27;</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_subject_suffix&#x27;] = &#x27;gitlab&#x27;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## GitLab email server settings</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##! Docs:https://docs.gitlab.com/omnibus/settings/smtp.html</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##! **Use smtp instead of sendmail/postfix.**</span></span></span><br><span class="line">gitlab_rails[&#x27;smtp_enable&#x27;] = true</span><br><span class="line">gitlab_rails[&#x27;smtp_address&#x27;] = &quot;smtp.qq.com&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_port&#x27;] = 465</span><br><span class="line">gitlab_rails[&#x27;smtp_user_name&#x27;] = &quot;system.notice@qq.com&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_password&#x27;] = &quot;xxxxx&quot;  #注意需要授权码</span><br><span class="line">gitlab_rails[&#x27;smtp_domain&#x27;] = &quot;qq.com&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_authentication&#x27;] = &quot;login&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_enable_starttls_auto&#x27;] = true</span><br><span class="line">gitlab_rails[&#x27;smtp_tls&#x27;] = true</span><br><span class="line"></span><br><span class="line">[git@qfedu.com ~]# grep -P &quot;^[^#].*smtp_|user_email|gitlab_email&quot; /etc/gitlab/gitlab.rb</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_enabled&#x27;] = true</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_from&#x27;] = &#x27;username@domain.cn&#x27;</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_display_name&#x27;] = &#x27;Admin&#x27;</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_reply_to&#x27;] = &#x27;usernamei@domain.cn&#x27;</span><br><span class="line">gitlab_rails[&#x27;gitlab_email_subject_suffix&#x27;] = &#x27;[gitlab]&#x27;</span><br><span class="line">gitlab_rails[&#x27;smtp_enable&#x27;] = true</span><br><span class="line">gitlab_rails[&#x27;smtp_address&#x27;]= &quot;smtp.exmail.qq.com&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_port&#x27;] = 25</span><br><span class="line">gitlab_rails[&#x27;smtp_user_name&#x27;] = &quot;username@domain.cn&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_password&#x27;] = &quot;password&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_domain&#x27;] = &quot;domain.cn&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_authentication&#x27;] = &quot;login&quot;</span><br><span class="line">gitlab_rails[&#x27;smtp_enable_starttls_auto&#x27;] = true</span><br><span class="line">gitlab_rails[&#x27;smtp_tls&#x27;] = false</span><br><span class="line">user[&#x27;git_user_email&#x27;] = &quot;username@domain.cn&quot;</span><br><span class="line"></span><br><span class="line">[git@qfedu.com~]# gitlab-ctl reconfigure  #修改配置后需要初始化配置</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">[git@qfedu.com~]# gitlab-ctl stop</span><br><span class="line">[git@qfedu.com~]# gitlab-ctl start</span><br></pre></td></tr></table></figure>

<h5 id="7、Gitlab-发送邮件测试"><a href="#7、Gitlab-发送邮件测试" class="headerlink" title="7、Gitlab 发送邮件测试"></a>7、Gitlab 发送邮件测试</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[git@qfedu.com~]# gitlab-rails console</span><br></pre></td></tr></table></figure>

<h4 id="3、Gitlab-的使用"><a href="#3、Gitlab-的使用" class="headerlink" title="3、Gitlab 的使用"></a>3、Gitlab 的使用</h4><p>​	在浏览器中输入 <a target="_blank" rel="noopener" href="http://192.168.160,3/%EF%BC%8C%E7%84%B6%E5%90%8E">http://192.168.160,3/，然后</a> change password: ，并使用root用户登录即可（后续动作根据提示操作）</p>
<h5 id="1、Gitlab-命令行修改密码"><a href="#1、Gitlab-命令行修改密码" class="headerlink" title="1、Gitlab 命令行修改密码"></a>1、Gitlab 命令行修改密码</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# gitlab-rails console production</span><br><span class="line">irb(main):001:0&gt;user = User.where(id: 1).first  #id为1的是超级管理员</span><br><span class="line">irb(main):002:0&gt;user.password = &#x27;yourpassword&#x27;  #密码必须至少8个字符</span><br><span class="line">irb(main):003:0&gt;user.save!  #如没有问题返回true</span><br><span class="line">exit  #退出</span><br></pre></td></tr></table></figure>

<h5 id="2、Gitlab服务管理"><a href="#2、Gitlab服务管理" class="headerlink" title="2、Gitlab服务管理"></a>2、Gitlab服务管理</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@qfedu.com ~]# gitlab-ctl start  # 启动所有gitlab 组件;</span><br><span class="line">[root@qfedu.com ~]# gitlab-ctl stop  # 停止所有gitlab组件；</span><br><span class="line">[root@qfedu.com ~]# gitlab-ctl restart # 重启所有gitlab组件；</span><br><span class="line">[root@qfedu.com ~]# gitlab-ctl status  # 查看服务状态；</span><br><span class="line">[root@qfedu.com ~]# gitlab-ctl reconfigure  # 初始化服务；</span><br><span class="line">[root@qfedu.com ~]# vim /etc/gitlab/gitlab.rb  # 修改默认的配置文件；</span><br><span class="line">[root@qfedu.com ~]# gitlab-ctl tail  # 查看日志；</span><br></pre></td></tr></table></figure>

<h5 id="3、登陆-Gitlab"><a href="#3、登陆-Gitlab" class="headerlink" title="3、登陆 Gitlab"></a>3、登陆 Gitlab</h5><p>浏览器访问<code>http://192.168.160.3</code>，密码最少8位</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703170158103.png" alt="image-20220703170158103"></p>
<p>​	如果需要手工修改nginx的port,可以在gitlab.rb中设置nginx[‘listen_port’]&#x3D;8000，然后再次 gitlab-ctl reconfigure即可</p>
<p>登录gitlab如下所示（首次登陆设置root密码）：</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703170545468.png" alt="image-20220703170545468"></p>
<p>修改语言为中文</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703170953915.png" alt="image-20220703170953915"></p>
<h5 id="4、创建项目组-group"><a href="#4、创建项目组-group" class="headerlink" title="4、创建项目组 group"></a>4、创建项目组 group</h5><p>​	组名为plat-sp，</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703171213815.png" alt="image-20220703171213815"></p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703171343520.png" alt="image-20220703171343520"></p>
<h5 id="5、去掉用户的自动注册功能（安全）"><a href="#5、去掉用户的自动注册功能（安全）" class="headerlink" title="5、去掉用户的自动注册功能（安全）"></a>5、去掉用户的自动注册功能（安全）</h5><p>English</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703171815660.png" alt="image-20220703171815660"></p>
<p>简体中文</p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703172018627.png" alt="image-20220703172018627"></p>
<h2 id="九、Gitlab-开发代码提交处理浪潮"><a href="#九、Gitlab-开发代码提交处理浪潮" class="headerlink" title="九、Gitlab 开发代码提交处理浪潮"></a>九、Gitlab 开发代码提交处理浪潮</h2><h3 id="1、公司代码提交合并流程"><a href="#1、公司代码提交合并流程" class="headerlink" title="1、公司代码提交合并流程"></a>1、公司代码提交合并流程</h3><ul>
<li>PM（项目主管&#x2F;项目经理）在gitlab创建任务，分配给开发人员</li>
<li>开发人员领取任务后，在本地使用git clone拉取代码库</li>
<li>开发人员创建开发分支(git checkout -b dev)，并进行开发</li>
<li>开发人员完成之后，提交到本地仓库（git commit）</li>
<li>开发人员在gitlab界面上申请分支合并请求（Merge request）</li>
<li>PM在gitlab上查看提交和代码修改情况，确认无误后，确认将开发人员的分支合并到主分支(master)</li>
<li>开发人员在gitlab上Mark done确认开发完成，并关闭issue。这一步在提交合并请求时可以通过描述中填写”close #1”等字样，可以直接关闭issue</li>
</ul>
<h3 id="2、创建项目管理用户-Tompson"><a href="#2、创建项目管理用户-Tompson" class="headerlink" title="2、创建项目管理用户 Tompson"></a>2、创建项目管理用户 Tompson</h3><p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703175350199.png" alt="image-20220703175350199"></p>
<p>同样的方法，再创建 Eric、Hellen 用户。用户添加完毕后，gitlab 会给用户发一封修改密码的邮件，各用户需要登录自己的邮箱，并点击相关的链接，设置新密码。</p>
<h3 id="3、将-Tompson-用户添加到组中，指定T为本组的-owner"><a href="#3、将-Tompson-用户添加到组中，指定T为本组的-owner" class="headerlink" title="3、将 Tompson 用户添加到组中，指定T为本组的 owner"></a>3、将 Tompson 用户添加到组中，指定T为本组的 owner</h3><p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703220243590.png" alt="image-20220703220243590"></p>
<h3 id="4、同样的方法将用户Eric、Hellen-添加到组中，并指定为-Developer"><a href="#4、同样的方法将用户Eric、Hellen-添加到组中，并指定为-Developer" class="headerlink" title="4、同样的方法将用户Eric、Hellen 添加到组中，并指定为 Developer"></a>4、同样的方法将用户Eric、Hellen 添加到组中，并指定为 Developer</h3><p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703220403922.png" alt="image-20220703220403922"></p>
<h3 id="5、使用-Tompson-用户的身份与密码登录到-gitlab-界面中，并创建项目-Project"><a href="#5、使用-Tompson-用户的身份与密码登录到-gitlab-界面中，并创建项目-Project" class="headerlink" title="5、使用 Tompson 用户的身份与密码登录到 gitlab 界面中，并创建项目 Project"></a>5、使用 Tompson 用户的身份与密码登录到 gitlab 界面中，并创建项目 Project</h3><p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703220559356.png" alt="image-20220703220559356"></p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703220730396.png" alt="image-20220703220730396"></p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703220822472.png" alt="image-20220703220822472"></p>
<h3 id="8、在-client-上添加-Tompson-的用户"><a href="#8、在-client-上添加-Tompson-的用户" class="headerlink" title="8、在 client 上添加 Tompson 的用户"></a>8、在 client 上添加 Tompson 的用户</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">笔记</span></span><br><span class="line">[root@qfedu.com ~]# useradd Tompson</span><br><span class="line">[root@qfedu.com ~]# useradd Hellen</span><br><span class="line">[root@qfedu.com ~]# useradd Eric</span><br><span class="line">[root@qfedu.com ~]# useradd test</span><br><span class="line">[root@qfedu.com ~]# su - Tompson</span><br><span class="line">[Tompson@qfedu.com ~]# ssh-keygen -C 222@qq.com</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">实操</span></span><br><span class="line">[root@node1 ~]# useradd Tompson</span><br><span class="line">[root@node1 ~]# su - Tompson</span><br><span class="line">[Tompson@node1 ~]$ ssh-keygen</span><br><span class="line">[Tompson@node1 ~]$ cd .ssh</span><br><span class="line">[Tompson@node1 .ssh]$ ls</span><br><span class="line">id_rsa  id_rsa.pub</span><br><span class="line">[Tompson@node1 .ssh]$ cat id_rsa.pub</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDmkarbaCex4hfLQMSxyNcVAihyMqYPZxfFQnMEHl+B2CqNM3E1SXFP7hEYOEQVKVNTB95Fz/FRZIvXARjgwPy7FHVWWGCCQ+oFETdHYMI62NQ38Gfn3mx28mrJP51VyAe3FwBcg+KbJVj5Bz4z0wBnHWkdB14wgw6e2+bXL8TkEnSM4G12ui5e0rSeLQjX6v2hirM1ZWtRVyOaLKN4cHV7otgC/OxK+jRAa7KUo5E/r7k7yGUfOGLJJphrlB8Msa9hHk03c6tYpEydaUk0nrK82r5ACtxO76jpg8a3on/aGNV2JdunuwNRvVse1KbZlVVtSTnNjhFCJ8Pbb04s0vur Tompson@node1</span><br></pre></td></tr></table></figure>

<h3 id="9、将-Tompson-的公钥复制到-gitlab-中"><a href="#9、将-Tompson-的公钥复制到-gitlab-中" class="headerlink" title="9、将 Tompson 的公钥复制到 gitlab 中"></a>9、将 Tompson 的公钥复制到 gitlab 中</h3><p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703221455490.png" alt="image-20220703221455490"></p>
<p><img src="D:\文件管理\Typora\images\分布式版本控制系统.assest\image-20220703221543375.png" alt="image-20220703221543375"></p>
<h3 id="10、为-Tompson-用户配置-git"><a href="#10、为-Tompson-用户配置-git" class="headerlink" title="10、为 Tompson 用户配置 git"></a>10、为 Tompson 用户配置 git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">笔记</span></span><br><span class="line">[Tompson@qfedu.com ~]$ git config --global user.email &quot;222@qq.com&quot;</span><br><span class="line">[Tompson@qfedu.com ~]$ git config --global user.name &quot;tom&quot;</span><br><span class="line"></span><br><span class="line">[Tompson@qfedu.com ~]$ git clone git@192.168.160.3:plat-sp/chathall.git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">实操</span></span><br><span class="line">[Tompson@node1 .ssh]$ cd /opt</span><br><span class="line">[Tompson@node1 opt]$ ls</span><br><span class="line">cni  shell</span><br><span class="line">[Tompson@node1 opt]$ git config --global user.email &quot;222@qq.com&quot;</span><br><span class="line">[Tompson@node1 opt]$ git config --global user.name &quot;tom&quot;</span><br><span class="line">[Tompson@node1 opt]$ cd /tmp</span><br><span class="line">[Tompson@node1 tmp]$ git clone git@192.168.160.3:plat-sp/testproject.git</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://mo-li001.github.io">壹拾陆</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://mo-li001.github.io/posts/3385b70.html">https://mo-li001.github.io/posts/3385b70.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://mo-li001.github.io" target="_blank">壹拾陆</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/6dad6cc7.html"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">为你的docker容器增加一个健康检查机制</div></div></a></div><div class="next-post pull-right"><a href="/posts/8d5a6382.html"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">基于Docker容器DevOps应用方案企业业务代码发布系统</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/abc41134.html" title="没写好"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">没写好</div></div></a></div><div><a href="/posts/9f353bc9.html" title="Devops"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">Devops</div></div></a></div><div><a href="/posts/f5f9fa9b.html" title="Docker"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">Docker</div></div></a></div><div><a href="/posts/34d20e28.html" title="ELK"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">ELK</div></div></a></div><div><a href="/posts/8005.html" title="ELK快速部署"><img class="cover" src="https://tuchuangs.com/imgs/2022/09/18/074f3836d4f471b8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">ELK快速部署</div></div></a></div><div><a href="/posts/9bdc030a.html" title="HAproxy"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">HAproxy</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://images-1258700836.cos.ap-guangzhou.myqcloud.com/images/202209182232723.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">壹拾陆</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">96</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/mo-li001/"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">个人笔记</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-text">分布式版本控制系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Git%E3%80%81Github%E3%80%81Gitlab%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">一、Git、Github、Gitlab的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Git%E4%B8%8ESVN%E5%8C%BA%E5%88%AB"><span class="toc-text">二、Git与SVN区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%83%A8%E7%BD%B2Git%E6%9C%8D%E5%8A%A1"><span class="toc-text">三、部署Git服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Git%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">四、Git工作流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81Git%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">五、Git基本概念</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81Git%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8"><span class="toc-text">六、Git客户端安装使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Git%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="toc-text">1、Git安装配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81Git%E9%85%8D%E7%BD%AE"><span class="toc-text">2、Git配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Git%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">1、Git用户信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">2、文本编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%B7%AE%E5%BC%82%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7"><span class="toc-text">3、差异分析工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-text">4、查看配置信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Git%E4%BD%BF%E7%94%A8"><span class="toc-text">3、Git使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81ssh%E9%93%BE%E6%8E%A5"><span class="toc-text">1、ssh链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81http%E9%93%BE%E6%8E%A5%EF%BC%88%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%EF%BC%89"><span class="toc-text">2、http链接（两种方式实现）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%E9%87%8C%E7%9A%84-git-x2F-config%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81"><span class="toc-text">1、修改代码里的.git&#x2F;config文件添加登录用户名密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AE%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E5%92%8C%E5%AF%86%E7%A0%81"><span class="toc-text">2、执行命令设置登录用户和密码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E8%AE%BE%E7%BD%AE%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81"><span class="toc-text">3、设置身份验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E4%B8%8E%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%A1%B9%E7%9B%AE%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="toc-text">4、本地项目与远程服务器项目之间的交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81%E5%B8%B8%E7%94%A8%E7%9A%84git%E5%91%BD%E4%BB%A4"><span class="toc-text">5、常用的git命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E7%89%88%E6%9C%AC%E7%A9%BF%E6%A2%AD"><span class="toc-text">6、版本穿梭</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80"><span class="toc-text">1、版本回退</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="toc-text">2、分支管理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81"><span class="toc-text">3、解决冲突</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81Github-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">七、Github 远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81Gitlab-Server%E9%83%A8%E7%BD%B2"><span class="toc-text">八、Gitlab Server部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-text">1、环境配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E9%83%A8%E7%BD%B2-Gitlab"><span class="toc-text">2、部署 Gitlab</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AE%89%E8%A3%85-gitlab-%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="toc-text">1、安装 gitlab 依赖包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E6%B7%BB%E5%8A%A0%E5%AE%98%E6%96%B9%E6%BA%90"><span class="toc-text">2、添加官方源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%AE%89%E8%A3%85-Gitlab"><span class="toc-text">3、安装 Gitlab</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AE-Gitlab"><span class="toc-text">4、配置 Gitlab</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%9F%A5%E7%9C%8BGitlab%E7%89%88%E6%9C%AC"><span class="toc-text">1、查看Gitlab版本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Gitlab-%E9%85%8D%E7%BD%AE%E7%99%BB%E5%BD%95%E8%BF%9E%E6%8E%A5"><span class="toc-text">2、Gitlab  配置登录连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96-Gitlab"><span class="toc-text">3、初始化 Gitlab</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%90%AF%E5%8A%A8-Gitlab-%E6%9C%8D%E5%8A%A1"><span class="toc-text">4、启动 Gitlab 服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81Gitlab-%E8%AE%BE%E7%BD%AE-HTTPS-%E6%96%B9%E5%BC%8F"><span class="toc-text">5、Gitlab 设置 HTTPS 方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81Gitlab-%E6%B7%BB%E5%8A%A0smtp%E9%82%AE%E4%BB%B6%E5%8A%9F%E8%83%BD"><span class="toc-text">6、Gitlab 添加smtp邮件功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81Gitlab-%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E6%B5%8B%E8%AF%95"><span class="toc-text">7、Gitlab 发送邮件测试</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81Gitlab-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">3、Gitlab 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Gitlab-%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-text">1、Gitlab 命令行修改密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Gitlab%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-text">2、Gitlab服务管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E7%99%BB%E9%99%86-Gitlab"><span class="toc-text">3、登陆 Gitlab</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%BB%84-group"><span class="toc-text">4、创建项目组 group</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%8E%BB%E6%8E%89%E7%94%A8%E6%88%B7%E7%9A%84%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD%EF%BC%88%E5%AE%89%E5%85%A8%EF%BC%89"><span class="toc-text">5、去掉用户的自动注册功能（安全）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81Gitlab-%E5%BC%80%E5%8F%91%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E5%A4%84%E7%90%86%E6%B5%AA%E6%BD%AE"><span class="toc-text">九、Gitlab 开发代码提交处理浪潮</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%85%AC%E5%8F%B8%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E5%90%88%E5%B9%B6%E6%B5%81%E7%A8%8B"><span class="toc-text">1、公司代码提交合并流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7-Tompson"><span class="toc-text">2、创建项目管理用户 Tompson</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%B0%86-Tompson-%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%BB%84%E4%B8%AD%EF%BC%8C%E6%8C%87%E5%AE%9AT%E4%B8%BA%E6%9C%AC%E7%BB%84%E7%9A%84-owner"><span class="toc-text">3、将 Tompson 用户添加到组中，指定T为本组的 owner</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%90%8C%E6%A0%B7%E7%9A%84%E6%96%B9%E6%B3%95%E5%B0%86%E7%94%A8%E6%88%B7Eric%E3%80%81Hellen-%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%BB%84%E4%B8%AD%EF%BC%8C%E5%B9%B6%E6%8C%87%E5%AE%9A%E4%B8%BA-Developer"><span class="toc-text">4、同样的方法将用户Eric、Hellen 添加到组中，并指定为 Developer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E4%BD%BF%E7%94%A8-Tompson-%E7%94%A8%E6%88%B7%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%B8%8E%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%88%B0-gitlab-%E7%95%8C%E9%9D%A2%E4%B8%AD%EF%BC%8C%E5%B9%B6%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE-Project"><span class="toc-text">5、使用 Tompson 用户的身份与密码登录到 gitlab 界面中，并创建项目 Project</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%9C%A8-client-%E4%B8%8A%E6%B7%BB%E5%8A%A0-Tompson-%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-text">8、在 client 上添加 Tompson 的用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E5%B0%86-Tompson-%E7%9A%84%E5%85%AC%E9%92%A5%E5%A4%8D%E5%88%B6%E5%88%B0-gitlab-%E4%B8%AD"><span class="toc-text">9、将 Tompson 的公钥复制到 gitlab 中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E4%B8%BA-Tompson-%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE-git"><span class="toc-text">10、为 Tompson 用户配置 git</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/99081826.html" title="很强，3万字把华为HCIA知识点全部总结了！">很强，3万字把华为HCIA知识点全部总结了！</a><time datetime="2022-12-05T05:17:54.876Z" title="发表于 2022-12-05 13:17:54">2022-12-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/b0318225.html" title="浪潮服务器通过DHCP获取地址进入IPMI，BMC管理后台的方法，可实现远程安装系统、温度运行状态监测、风扇转速调整、远程开关机、KVM控制台显示器等功能">浪潮服务器通过DHCP获取地址进入IPMI，BMC管理后台的方法，可实现远程安装系统、温度运行状态监测、风扇转速调整、远程开关机、KVM控制台显示器等功能</a><time datetime="2022-12-05T05:17:54.860Z" title="发表于 2022-12-05 13:17:54">2022-12-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/f962716d.html" title="使用system-config-kickstart生成kickstart文件">使用system-config-kickstart生成kickstart文件</a><time datetime="2022-12-05T05:17:54.860Z" title="发表于 2022-12-05 13:17:54">2022-12-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/12ac960a.html" title="Linux高级篇--使用system-config-kickstart工具制作kickstart应答文件">Linux高级篇--使用system-config-kickstart工具制作kickstart应答文件</a><time datetime="2022-12-05T05:17:54.845Z" title="发表于 2022-12-05 13:17:54">2022-12-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/cefcf133.html" title="zabbix5.0 percona_mysql_template模板文件">zabbix5.0 percona_mysql_template模板文件</a><time datetime="2022-12-05T05:17:54.845Z" title="发表于 2022-12-05 13:17:54">2022-12-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 壹拾陆</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>